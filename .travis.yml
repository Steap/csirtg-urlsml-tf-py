sudo: required
dist: trusty
language: python
cache:
  - pip
  - apt

python:
  - 2.7
  - 3.6

install:
- pip install -r dev_requirements.txt

script:
  - python setup.py test
  - python setup.py sdist bdist bdist_wheel

notifications:
  email:
    on_success: never
    on_failure: never

deploy:
  provider: pypi
  user: wesyoung
  password:
    secure: tVjQdaQ1rjq238/6rrs6Ad30a6zQ3wR7QnkO5R+O17CHS2e9MiueKELPe19F99GtwTSo4vUHcGAkOn8MXDPmi8QL7XuOZhQ7FiURAZTjnybb3wirmOEeO8RQhmP9AANVDdrof62EMp7NdqKtx+v5zQyY/TV45LT7kSBJ5hj5D6Dit8QNCdjbRLFFprZrE+nzVnI0wEZuMA8+dcJkYXDJxvHIS79XuHkUB4nNvtsvrpIJ1a9cEPkQOBZFtzrWx7n/FHqAOAoY2UDhxiMwbjw9YR5y3VYV3X2HnEbdaP1fG55Js1XQiXwD/v0GgIDhZBjgL+/DI3U2gy/WmbNa6IubNmqpEkyj1Z7/3cAvQ7UNdoNbyieQ41ZYCpUuQjJYEcnLzerkH8O8uAgnCap1xcLKyTsOwrZiaXsn1HvA5RFAZppK1XecvQkyzcqEimFmz8wiZUvIt0cZQHZkj240iokPm+4umOcJz83yUDVtKtc9tD0Fqd7Lv/KJpnk1nfMsqV5LnLzmdEfKhT1Zulg21PE+kVboqCxbzv2euFwK09u7xiJ/kPzOl14O7lbeTgG32FPPcjL/jn9x9uDZIc6GGWgXdQrN412PMQR96USMtHOQZjpxjvBexm/kQtD9eNFEYJmyxLc/TMsZkMKZpsWbAC2BAcxtqbvQpZBRtPSqZ5xSBrU=
  on:
    branch: master
    tags: true
    condition: $TRAVIS_PYTHON_VERSION = "3.6"
